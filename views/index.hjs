<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Match Moblin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href="css/bootstrap.css" rel="stylesheet" media="screen">
    <link href="css/bootstrap-responsive.css" rel="stylesheet" media="screen">
    <link href="css/custom.css" rel="stylesheet" media="screen">
    <link href="css/font-awesome.min.css" rel="stylesheet" media="screen">
    <link href="css/select2.css" rel="stylesheet" media="screen">
    <link rel="shortcut icon" href="img/imp_logo.png">
    <!-- <link href='http://fonts.googleapis.com/css?family=Orbitron:400,700,900' rel='stylesheet' type='text/css'> -->
    
  </head>
  <body>
    
    <header id="base-header" class="container">
        <a href="/">
            <div id="header-title" class="row-fluid pull-left">
                <img class="pull-left" src="img/imp_logo.png" width="55px" />
                <h1>Match Moblin</h1>
                <span>Social Gaming & Matchmaking</span>
            </div>
        </a>

        <div id="profile-links" class="pull-right">
            {{^session.username}}
            <div class="form-inline">
            <form action="/login" method="POST">
              <input type="text" class="input-small" placeholder="Username" name="username">
              <input type="password" class="input-small" placeholder="Password" name="password">
              <button type="submit" class="btn btn-small btn-success">Login</button>
              <button href="#register-modal" class="btn btn-small btn-primary" role="button" data-toggle="modal">Register</button>
            </form>
            </div>
            {{/session.username}}
            
            {{#session.username}}
            <ul>
                <li>Logged in as&nbsp;<strong>{{session.username}}</strong>&nbsp;(<span class="text-info bold" title="Karma">10</span>)</li>
                <li><a data-bind="css: { selected: selectedHeaderLink() == 'profile' }" href="#/profile/{{session.username}}">Profile</a></li>
                <li><a data-bind="css: { selected: selectedHeaderLink() == 'mygames' }" href="#/profile/{{session.username}}/mygames">My Games</a></li>
                <li><a href="/logout">Logout</a></li>
            </ul> 
            {{/session.username}}
        </div>
    </header>
    
    <nav id="header-links" class="container">
        <ul>
            <li><i class="icon-search"></i><a data-bind="css: { selected: selectedHeaderLink() == 'find' }" href="#/find">Find</a></li>
            <li><i class="icon-cog"></i><a data-bind="css: { selected: selectedHeaderLink() == 'create' }" href="#/create">Create</a></li>
            <li><i class="icon-cogs"></i><a data-bind="css: { selected: selectedHeaderLink() == 'match' }" href="#/match/" >Match</a></li>
            <li><i class="icon-group"></i><a data-bind="css: { selected: selectedHeaderLink() == 'friends' }" href="#/profile/alf/friends">Friends</a></li>
            <li><i class="icon-trophy"></i><a data-bind="css: { selected: selectedHeaderLink() == 'trophies' }" href="#/profile/alf/trophies">Trophies</a></li>
        </ul>
    </nav>
        
    <div id="base-wrapper" class="container">
      <!-- Find Games Content -->
      <div id="find-games" data-bind="visible: selectedPage() == 'find' ">
          <div class="content-tabs">
            <nav id="sub-links">
                <ul>
                    <li><i class="icon-book"></i><a href="#">Browse</a></li>
                    <li><i class="icon-filter"></i><a href="#">Filter</a></li>
                    <li><i class="icon-star"></i><a href="#">Starred</a></li>
                </ul>
            </nav>
            <button class="btn btn-small pull-right" data-bind="click: refreshMatches"><i class="icon-refresh"></i> Refresh</button>
            <span class="clearfix"></span>
            <br /><hr />
          </div>
          <div class="content container-fluid">
            <div class="row-fluid">
                <div id="left-column" class="span12" data-bind="css: { span8: selectedData}">

                  <div id="node-titles" class="row-fluid">
                    <div class="title-game pull-left">Game</div>
                    <div class="title-description pull-left">Summary</div>
                    <div class="pull-right">
                        <div class="title-players pull-left">Players</div>
                        <div class="title-actions pull-right">Actions</div>
                    </div>
                  </div>
                  
                  <!-- Iterated Group Node -->
                  <!-- ko with: findData -->
                  <!-- ko foreach: groups -->
                  <section class="node">
                    <div class="inner-node" data-bind="click: $root.loadDetails, css: { selected: $root.selectedNode() == id }">
                        <div class="game-icon pull-left"><img data-bind="attr: {src: game }" /></div>
                        <div class="pull-right">
                            <div class="node-players pull-left"><span data-bind="text: players"></span></div>
                            <div class="node-actions pull-right">
                                <button class="btn btn-small btn-success">Apply</button>
                            </div>
                        </div>
                        <div class="node-description">
                            <span class="node-desc-text1"><span data-bind="text: type" class="node-desc-type"></span>&nbsp;<span data-bind="text: title"></span></span>
                            <span class="node-desc-text2"><small data-bind="text: 'Created by&nbsp;' + creator + '&nbsp;' + date"></small></span>
                        </div>
                    </div>
                  </section> <!-- /node -->
                  <!-- /ko -->
                  <!-- /ko -->
                  
                </div> <!-- /left-column -->

                <div id="right-column" class="span4" data-bind="css: {fadeIn: selectedData}" style="opacity: 0;">
                    <div id="infobox" data-bind="with: selectedData">
                        <h4><span class="desc-type" data-bind="text: type"></span><span data-bind="text: title"></span></h4>
                        <h6 data-bind="text: 'Created by&nbsp;' + creator + '&nbsp;' + date">Created by Alf</h6>

                        <button class="btn btn-large btn-block btn-primary" data-bind="click: $root.joinMatch">Join Group</button>
                        <hr />
                        
                        <div id="url" class="input-prepend">
                          <span class="add-on"><i class="icon-link"></i></span>
                          <input class="span11 share-url" type="text" data-bind="attr: { value: 'http://matchmoblin.com/#/find/' + id }">
                        </div>

                        <table class="table table-hover">
                          <thead>
                            <tr>
                              <th class="gray-bg"><i class="icon-file-alt"></i> <span>Description</span></th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr><td><p data-bind="text: description"></p></td></tr>
                            <tr class="gray-bg"><th><i class="icon-check"></i> <span>Requirements</span></th></tr>
                            <!-- ko with: details.requirements -->
                            <tr><td data-bind="text: 'Karma: ' + karma"></td></tr>
                            <tr><td data-bind="text: 'Rank: ' + rank"></td></tr>
                            <tr><td data-bind="text: 'Play Style: ' + playstyle"></td></tr>
                            <!-- /ko -->
                            <tr class="gray-bg"><th><i class="icon-group"></i> <span>Members</span></th></tr>
                            <!-- ko foreach: details.members -->
                            <tr><td data-bind="text: $data"></td></tr>
                            <!-- /ko -->
                            <tr class="gray-bg"><th><i class="icon-comments"></i> <span>Chat</span></th></tr>
                          </tbody>
                        </table>

                        <div id="chat">
                            <strong>Ubernoob</strong>: Hello? Pls let me join.<br />
                            <strong>Superdude</strong>: No, gtfo.
                        </div>
                        <input class="input-block-level chat-input" type="text" placeholder="Say something...">

                    </div> <!-- /infobox -->
                </div> <!-- /right column -->

            </div>
          </div>
      </div> <!-- /find-games -->

      <!-- Create Match Content -->
      <div id="create-match" data-bind="visible: selectedPage() == 'create' ">
          <div class="content">
              <div id="create-match-inner" data-bind="submit: createMatch.bind($data, '{{ session.username }}')">
                <h4 class="title">Create a match</h4>
                <form class="form-horizontal">
                  <div class="control-group">
                    <label class="control-label" for="inputEmail">Platform</label>
                    <div class="controls">
                        <div id="input-platform" class="btn-group" data-toggle="buttons-radio">
                          <a class="btn">PC</a>
                          <a class="btn">PS3</a>
                          <a class="btn">360</a>
                        </div>
                    </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label" for="inputEmail">Looking for group or members?</label>
                    <div class="controls">
                        <div id="input-type" class="btn-group" data-toggle="buttons-radio">
                          <a class="btn">LFG</a>
                          <a class="btn">LFM</a>
                        </div>
                    </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label" for="inputEmail">Game</label>
                    <div class="controls">
                      <select id="games-list">
                        <option value="dayz">DayZ</option>
                        <option value="minecraft">Minecraft</option>
                        <option value="bf3">Battlefield 3</option>
                        <option value="dungeondefenders">Dungeon Defenders</option>
                        <option value="chivalry">Chivalry - Medieval Warfare</option>
                      </select>
                    </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label" for="inputEmail">Title</label>
                    <div class="controls">
                      <input type="text" id="input-title" placeholder="Enter a descriptive title">
                    </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label" for="inputPassword">Description</label>
                    <div class="controls">
                      <textarea id="input-description" rows="3" placeholder="Enter a full description here"></textarea>
                    </div>
                  </div>
                  <div class="control-group">
                    <div class="controls">
                      <button type="submit" class="btn btn-success">Submit</button>
                    </div>
                  </div>
                </form>
              </div>
          </div>
      </div>

      <!-- View Match Content -->
      <div id="view-match" class="container-fluid" data-bind="visible: selectedPage() == 'match' ">
          <div class="content row-fluid">
              <div id="view-match-inner" class="pull-left span8">
                <h4 class="title">Match in progress</h4>
              </div>
              <div id="right-column" class="span4" data-bind="css: {fadeIn: selectedData}" style="opacity: 0;">
                  <div id="infobox" data-bind="with: selectedData">
                      <h4><span class="desc-type" data-bind="text: type"></span><span data-bind="text: title"></span></h4>
                      <h6 data-bind="text: 'Created by&nbsp;' + creator + '&nbsp;' + date">Created by Alf</h6>

                      <button class="btn btn-small btn-success">Apply</button>
                      <button class="btn btn-small btn-info">Join</button>
                      <hr />
                      
                      <div id="url" class="input-prepend">
                        <span class="add-on"><i class="icon-link"></i></span>
                        <input class="share-url" type="text" data-bind="attr: { value: 'http://matchmoblin.com/#/find/' + id }">
                      </div>

                      <table class="table table-hover">
                        <thead>
                          <tr>
                            <th class="gray-bg"><i class="icon-file-alt"></i> <span>Description</span></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr><td><p data-bind="text: description"></p></td></tr>
                          <tr class="gray-bg"><th><i class="icon-check"></i> <span>Requirements</span></th></tr>
                          <!-- ko with: details.requirements -->
                          <tr><td data-bind="text: 'Karma: ' + karma"></td></tr>
                          <tr><td data-bind="text: 'Rank: ' + rank"></td></tr>
                          <tr><td data-bind="text: 'Play Style: ' + playstyle"></td></tr>
                          <!-- /ko -->
                          <tr class="gray-bg"><th><i class="icon-group"></i> <span>Members</span></th></tr>
                          <!-- ko foreach: details.members -->
                          <tr><td data-bind="text: $data"></td></tr>
                          <!-- /ko -->
                          <tr class="gray-bg"><th><i class="icon-comments"></i> <span>Chat</span></th></tr>
                        </tbody>
                      </table>

                  </div> <!-- /infobox -->
              </div> <!-- /right column -->
          </div>
      </div>

      <!-- Profile Content -->
      <div id="profile" data-bind="with: profileData, visible: selectedPage() == 'profile' ">
        <div class="content container-fluid">
            <div class="row-fluid">
                <div id="profile-left" class="span4">
                    <img data-bind="attr: {src: avatar}" />
                </div>

                <div id="profile-right" class="span8">
                    <h3 class="title" data-bind="text: name"></h3>
                    <div class="tabbable"> <!-- Only required for left/right tabs -->
                        <ul class="nav nav-tabs" id="profile-tabs">
                            <li><a href="#profile-profile" data-toggle="tab"><i class="icon-user">&nbsp;</i>Profile</a></li>
                            <li><a href="#profile-friends" data-toggle="tab"><i class="icon-trophy">&nbsp;</i>Friends</a></li>
                            <li><a href="#profile-trophies" data-toggle="tab"><i class="icon-trophy">&nbsp;</i>Trophies</a></li>
                            <li><a href="#profile-games" data-toggle="tab"><img src="/img/gamepad.png" width="18px" height="18px"> Games</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="profile-profile">
                                <p>I'm in Section 1.</p>
                            </div>
                            <div class="tab-pane" id="profile-friends">
                                <table class="table table-striped table-hover">
                                  <tbody data-bind="foreach: friends">
                                    <tr>
                                      <td class="span1"><img data-bind="attr: {src: avatar}" width="50px" /></td>
                                      <td data-bind="text: name"></td>
                                    </tr>
                                  </tbody>
                                </table>
                            </div>
                            <div class="tab-pane" id="profile-trophies">
                                <!-- ko foreach: trophies -->
                                <img data-bind="attr: {src: icon, title: trophy, 'data-original-title': trophy, 'data-content': description}" width="75px" height="75px" rel="popover" />
                                <!-- /ko -->
                            </div>
                            <div class="tab-pane" id="profile-games">

                                <table class="table table-striped table-hover">
                                  <thead>
                                    <tr>
                                      <th>Game</th>
                                      <th>Platform</th>
                                    </tr>
                                  </thead>
                                  <tbody data-bind="foreach: games">
                                    <tr>
                                      <td><img data-bind="attr: {src: icon}" width="25px" height="25px" />&nbsp;<span data-bind="text: name"></span></td>
                                      <td data-bind="text: platform"></td>
                                    </tr>
                                  </tbody>
                                </table>
                            </div>
                        </div> <!-- tab-content -->
                    </div> <!-- tabbable -->
                </div> <!-- profile-right -->
            </div> <!-- row-fluid -->
        </div> <!-- /container -->
      </div> <!-- /profile -->


    </div> <!-- /container -->

    <footer class="container">
        <ul>
            <li><a href="#">About</a></li>
            <li><a href="#">Terms</a></li>
            <li><a href="#">Privacy</a></li>
        </ul>
    </footer>

    <!-- Register Modal -->
    <div id="register-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Register</h3>
      </div>
      <div class="modal-body">
        <div id="register-form" class="form-horizontal">
          <div class="control-group">
            <label class="control-label" for="RegisterUsername">Username</label>
            <div class="controls">
              <input type="text" id="RegisterUsername" placeholder="Username">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="RegisterEmail">Email (optional)</label>
            <div class="controls">
              <input type="text" id="RegisterEmail" placeholder="Email">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="RegisterPassword">Password</label>
            <div class="controls">
              <input type="password" id="RegisterPassword" placeholder="Password">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="RegisterPasswordConfirm">Confirm Password</label>
            <div class="controls">
              <input type="password" id="RegisterConfirmPassword" placeholder="Confirm Password">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputSteamID">Steam ID (optional)</label>
            <div class="controls">
              <input type="text" id="inputSteamID" placeholder="Steam ID">
            </div>
          </div>
          <div class="control-group">
            <div class="controls">
              <button type="submit" class="btn btn-primary" data-bind="click: registerUser">Register</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
      </div>
    </div>

    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/select2.js" type="text/javascript"></script>
    <script src="js/sammy.js" type="text/javascript"></script>
    <script src="js/knockout-2.2.0.js" type="text/javascript"></script>
    <script src="js/app.js" type="text/javascript"></script>
    <script src="js/moment.min.js" type="text/javascript"></script>
    <!-- <script src="js/ZeroClipboard.min.js" type="text/javascript"></script> -->


  </body>
</html>
